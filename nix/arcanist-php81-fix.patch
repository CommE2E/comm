From 2e2d707ef044a464e9be3e1061edae7eeeaa89f3 Mon Sep 17 00:00:00 2001
From: Ashoat Tevosyan <ashoat@gmail.com>
Date: Tue, 16 Sep 2025 14:52:03 -0400
Subject: [PATCH] PHP 8.1: fix strlen(null) deprecation

---
 src/toolset/workflow/ArcanistShellCompleteWorkflow.php | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/toolset/workflow/ArcanistShellCompleteWorkflow.php b/src/toolset/workflow/ArcanistShellCompleteWorkflow.php
index 9c2fcf9a..df44bf43 100644
--- a/src/toolset/workflow/ArcanistShellCompleteWorkflow.php
+++ b/src/toolset/workflow/ArcanistShellCompleteWorkflow.php
@@ -92,7 +92,7 @@ EOTEXT
     $argv = $this->getArgument('argv');
 
     $is_generate = $this->getArgument('generate');
-    $is_shell = (bool)strlen($this->getArgument('shell'));
+    $is_shell = (bool)strlen($this->getArgument('shell') ?? '');
     $is_current = $this->getArgument('current');
 
     if ($argv) {
-- 
2.51.0

