"use strict";(self.webpackChunkcomm_docs=self.webpackChunkcomm_docs||[]).push([[462],{8215:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:o},t)}},6396:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(7462),o=n(7294),i=n(2389),r=n(9443);var l=function(){var e=(0,o.useContext)(r.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},u=n(9521),s=n(6010),d="tabItem_vU9c";function c(e){var t,n,a,i=e.lazy,r=e.block,c=e.defaultValue,p=e.values,m=e.groupId,h=e.className,v=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=p?p:v.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),b=(0,u.lx)(f,(function(e,t){return e.value===t.value}));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===c?c:null!=(t=null!=c?c:null==(n=v.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(a=v[0])?void 0:a.props.value;if(null!==g&&!f.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+f.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var k=l(),y=k.tabGroupChoices,w=k.setTabGroupChoices,N=(0,o.useState)(g),T=N[0],C=N[1],x=[],D=(0,u.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var R=y[m];null!=R&&R!==T&&f.some((function(e){return e.value===R}))&&C(R)}var I=function(e){var t=e.currentTarget,n=x.indexOf(t),a=f[n].value;a!==T&&(D(t),C(a),null!=m&&w(m,a))},_=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=x.indexOf(e.currentTarget)+1;n=x[a]||x[0];break;case"ArrowLeft":var o=x.indexOf(e.currentTarget)-1;n=x[o]||x[x.length-1]}null==(t=n)||t.focus()};return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":r},h)},f.map((function(e){var t=e.value,n=e.label;return o.createElement("li",{role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,className:(0,s.Z)("tabs__item",d,{"tabs__item--active":T===t}),key:t,ref:function(e){return x.push(e)},onKeyDown:_,onFocus:I,onClick:I},null!=n?n:t)}))),i?(0,o.cloneElement)(v.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):o.createElement("div",{className:"margin-vert--md"},v.map((function(e,t){return(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==T})}))))}function p(e){var t=(0,i.Z)();return o.createElement(c,(0,a.Z)({key:String(t)},e))}},2920:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return p},default:function(){return h}});var a=n(7462),o=n(3366),i=(n(7294),n(3905)),r=n(6396),l=n(8215),u=["components"],s={sidebar_position:2},d="Debugging",c={unversionedId:"dev_environment_mac/development/debugging",id:"dev_environment_mac/development/debugging",isDocsHomePage:!1,title:"Debugging",description:"React Developer Tools",source:"@site/docs/dev_environment_mac/development/debugging.mdx",sourceDirName:"dev_environment_mac/development",slug:"/dev_environment_mac/development/debugging",permalink:"/dev_environment_mac/development/debugging",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Development",permalink:"/dev_environment_mac/development/development"},next:{title:"Instructions (Linux)",permalink:"/linux_dev_environment"}},p=[{value:"React Developer Tools",id:"react-developer-tools",children:[],level:2},{value:"Redux Developer Tools",id:"redux-developer-tools",children:[],level:2},{value:"Debugging JavaScript",id:"debugging-javascript",children:[],level:2},{value:"Working with Phabricator",id:"working-with-phabricator",children:[{value:"Creating a new diff",id:"creating-a-new-diff",children:[],level:3},{value:"Updating a diff",id:"updating-a-diff",children:[],level:3},{value:"Committing a diff",id:"committing-a-diff",children:[],level:3}],level:2},{value:"Creating a Herald rule",id:"creating-a-herald-rule",children:[],level:2},{value:"Final notes",id:"final-notes",children:[],level:2}],m={toc:p};function h(e){var t=e.components,n=(0,o.Z)(e,u);return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"debugging"},"Debugging"),(0,i.kt)("h2",{id:"react-developer-tools"},"React Developer Tools"),(0,i.kt)(r.Z,{groupId:"platform",mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"web",label:"For web",mdxType:"TabItem"},(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You can access the React Developer Tools through the Chrome extension by opening the Chrome Developer Tools and selecting the \u201cComponents\u201d or \u201cProfiler\u201d tabs. This should work in both our development environment and in production."))),(0,i.kt)(l.Z,{value:"mobile",label:"For iOS and Android",mdxType:"TabItem"},(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You can access the React Developer Tools through Flipper. First start a debug build of a React Native app. Next, just open up Flipper and you should be able to see an option for \u201cReact DevTools\u201d. Flipper communicates with the app through the Metro bundler that gets started when you run ",(0,i.kt)("inlineCode",{parentName:"li"},"cd native && yarn dev"),".")))),(0,i.kt)("h2",{id:"redux-developer-tools"},"Redux Developer Tools"),(0,i.kt)(r.Z,{groupId:"platform",mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"web",label:"For web",mdxType:"TabItem"},(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You can access the Redux Developer Tools through the Chrome extension by opening the Chrome Developer Tools and selecting the \u201cRedux\u201d tab. This should work in both our development environment and in production, although in production you won\u2019t be able to see Redux actions from before you opened up the Redux dev tools."))),(0,i.kt)(l.Z,{value:"mobile",label:"For iOS and Android",mdxType:"TabItem"},(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You can access the Redux Developer Tools through the Chrome extension\u2019s Remote DevTools functionality. First, to open the Remote DevTools, right click on any webpage, go into the \u201cRedux DevTools\u201d menu, and select \u201cOpen Remote DevTools\u201d. Then hit \u201cSettings\u201d, select \u201cUse custom (local) server\u201d, and configure it to connect to ",(0,i.kt)("inlineCode",{parentName:"li"},"localhost")," on port 8043. This will connect to the ",(0,i.kt)("inlineCode",{parentName:"li"},"remotedev-server")," instance that you started when you ran ",(0,i.kt)("inlineCode",{parentName:"li"},"cd native && yarn dev"),".")))),(0,i.kt)("h2",{id:"debugging-javascript"},"Debugging JavaScript"),(0,i.kt)(r.Z,{groupId:"platform",mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"web",label:"For web",mdxType:"TabItem"},(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You can just use your browser of choice\u2019s dev tools."))),(0,i.kt)(l.Z,{value:"mobile",label:"For iOS and Android",mdxType:"TabItem"},(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You should use Flipper. First start a debug build of a React Native app. Next, just open up Flipper and you should be able to see an option for \u201cHermes Debugger (RN)\u201d. Flipper communicates with the app through the Metro bundler that gets started when you run ",(0,i.kt)("inlineCode",{parentName:"li"},"cd native && yarn dev"),".")))),(0,i.kt)("h2",{id:"working-with-phabricator"},"Working with Phabricator"),(0,i.kt)("h3",{id:"creating-a-new-diff"},"Creating a new diff"),(0,i.kt)("p",null,"The biggest difference between GitHub\u2019s PR workflow and Phabricator\u2019s \u201cdiff\u201d workflow is that Phabricator lets you create a diff from any commit, or set of commits. In contrast, GitHub can only create PRs from branches."),(0,i.kt)("p",null,"When you have a commit ready and want to submit a diff for code review, just run ",(0,i.kt)("inlineCode",{parentName:"p"},"arc diff")," from within the Comm Git repo. Arcanist will attempt to determine the \u201cbase\u201d for your diff automatically, but by default it will take the single most recent commit. You can see what base Arcanist thinks it should use by running ",(0,i.kt)("inlineCode",{parentName:"p"},"arc which"),". You can also explicitly specify a base by using ",(0,i.kt)("inlineCode",{parentName:"p"},"arc diff --base"),". For instance, ",(0,i.kt)("inlineCode",{parentName:"p"},"arc diff --base HEAD^")," will create a diff from the most recent commit, which should be the default behavior."),(0,i.kt)("p",null,"Keep in mind that ",(0,i.kt)("inlineCode",{parentName:"p"},"arc diff")," always diffs the base against your current working copy. Though this nominally includes any unstashed changes you might have, ",(0,i.kt)("inlineCode",{parentName:"p"},"arc diff"),"\u2019s interactive prompts will help you exclude unrelated changes in your working copy."),(0,i.kt)("p",null,"It\u2019s generally easiest to keep a 1:1 correspondence between diffs and commits. If you\u2019re working with a stack of commits, you can use Git\u2019s interactive rebase feature (",(0,i.kt)("inlineCode",{parentName:"p"},"git rebase -i"),") to run ",(0,i.kt)("inlineCode",{parentName:"p"},"arc diff")," on each commit individually."),(0,i.kt)("h3",{id:"updating-a-diff"},"Updating a diff"),(0,i.kt)("p",null,"Whereas with GitHub PRs, updates are usually created by adding on more commits, in Phabricator the easiest way to update a diff is by amending the existing commit."),(0,i.kt)("p",null,"When you run ",(0,i.kt)("inlineCode",{parentName:"p"},"arc diff")," on a commit for the first time, it amends the commit message to include a link to the Phabricator diff. If and when you want to update that diff, just run ",(0,i.kt)("inlineCode",{parentName:"p"},"arc diff")," again."),(0,i.kt)("p",null,"If you\u2019re working with a stack of diffs, and want to update an earlier diff, you can use Git\u2019s interactive rebase feature (",(0,i.kt)("inlineCode",{parentName:"p"},"git rebase -i"),") to open the stack to a particular point. Then you can amend that commit and run ",(0,i.kt)("inlineCode",{parentName:"p"},"arc diff")," before continuing the rebase."),(0,i.kt)("h3",{id:"committing-a-diff"},"Committing a diff"),(0,i.kt)("p",null,"After your diff has been accepted, you should be able to land it. To land a diff just run ",(0,i.kt)("inlineCode",{parentName:"p"},"arc land")," from within the repository."),(0,i.kt)("p",null,"If you\u2019re dealing with a stack, ",(0,i.kt)("inlineCode",{parentName:"p"},"arc land")," will make sure to only land the diffs that have been accepted, and shouldn\u2019t land any diffs that depend on other diffs that haven\u2019t been accepted yet."),(0,i.kt)("p",null,"Note that you need commit rights to the repository in order to run ",(0,i.kt)("inlineCode",{parentName:"p"},"arc land"),". If you don\u2019t have commit rights, reach out to @ashoat for assistance."),(0,i.kt)("h2",{id:"creating-a-herald-rule"},"Creating a Herald rule"),(0,i.kt)("p",null,"Once you have access to Phabricator, you may want to set up a Herald rule so that you get CC\u2019d on any new diffs. The way to do that in Phabricator is:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to \u201cMore Applications\u201d on the left-hand sidebar."),(0,i.kt)("li",{parentName:"ol"},"Select \u201cHerald\u201d from the list."),(0,i.kt)("li",{parentName:"ol"},"Press the \u201cCreate Herald Rule\u201d button in the upper-right corner of the screen."),(0,i.kt)("li",{parentName:"ol"},"Select \u201cDifferential Revisions\u201d from the list."),(0,i.kt)("li",{parentName:"ol"},"Select \u201cPersonal Rule\u201d from the list."),(0,i.kt)("li",{parentName:"ol"},"Set up your new rule to match ",(0,i.kt)("a",{parentName:"li",href:"https://phabricator.ashoat.com/H2"},"this one"),".")),(0,i.kt)("h2",{id:"final-notes"},"Final notes"),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"  When developing, I usually just pop up three terminal windows, one for ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn dev")," in each of server, web, and native."))),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"It\u2019s currently only possible to create a user account using the iOS or Android apps. The website supports logging in, but does not support account creation."))),(0,i.kt)("p",null,"Good luck, and let @ashoat know if you have any questions!"))}h.isMDXComponent=!0}}]);